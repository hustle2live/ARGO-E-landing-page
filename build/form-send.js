const feedbackWrapper=document.querySelector(".feedback-wrapper"),feedbackForm=document.querySelector(".feedback-wrapper form"),buttonFeedbackClose=document.querySelector(".feedback-wrapper .btn-close"),ctaButtonsAll=document.querySelectorAll(".cta-button"),getCurrentTime=()=>(new Date).toString(),dateTimeMessageFormatt=e=>`${e.substring(8,10)} ${e.substring(4,7)} ${e.substring(11,24)}`,showHideFeedbackWrapper=()=>feedbackWrapper.classList.toggle("hidden");ctaButtonsAll.forEach(e=>e.addEventListener("click",showHideFeedbackWrapper)),buttonFeedbackClose.addEventListener("click",showHideFeedbackWrapper);const bot_token="6717439509:AAHaPvuHO3WORt6_3p3CMIJgoCp5fECbX8s",chat_id="843486240",textMessageFormatter=({name:e,tel:t,msg:a="-"})=>{return`<b>üëã ‚úâÔ∏è –ù–û–í–ï –ü–û–í–Ü–î–û–ú–õ–ï–ù–ù–Ø –∑ —Å–∞–π—Ç—É ARGO-E.com.ua</b> - –§–û–†–ú–ê –ó–í–û–†–û–¢–ù–¨–û–ì–û –ó–í'–Ø–ó–ö–£ [CONTACT FORM]:\n<b>–Ü–º'—è:</b> ${e}\n<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> ${t}\n<b>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:</b> ${a}\n<b>–ù–∞–¥—ñ—Å–ª–∞–Ω–æ:</b> ${dateTimeMessageFormatt(getCurrentTime())}`},postFeedback=async(e,t,a="sendMessage")=>{const r=await fetch(`https://api.telegram.org/bot${e}/${a}`,{method:"POST",body:t});if(!r.ok)throw new Error("User's registration Failed. Error");return await r.json()},onFormSubmit=e=>{e.preventDefault();const t=new FormData(feedbackForm),a={name:t.get("name"),tel:t.get("phone"),msg:t.get("message")||" - "},r=textMessageFormatter(a);return t.append("chat_id",chat_id),t.append("text",r),t.append("parse_mode","HTML"),t},onSuccess=()=>{feedbackWrapper.lastElementChild.innerHTML="<span class='green'>–î—è–∫—É—î–º–æ! –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–æ.</span>"},onError=()=>{feedbackWrapper.lastElementChild.innerHTML="<span class='red'>*–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...</span>"},hadleSubmit=e=>new Promise(function(t,a){postFeedback(bot_token,e).then(e=>e).then(e=>void(feedbackWrapper.lastElementChild.innerHTML="<span class='green'>–î—è–∫—É—î–º–æ! –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–æ.</span>")).catch(e=>{feedbackWrapper.lastElementChild.innerHTML="<span class='red'>*–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...</span>",a(e.message)})});feedbackForm.onsubmit=(e=>hadleSubmit(onFormSubmit(e)));